{% extends 'base.html' %}
{% load static %}

{% block title %}{{ page_title }}{% endblock %}
{% block meta_description %}{{ meta_description }}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="hero-title">Jasem Shuman</h1>
                    <h2 class="hero-subtitle">Contemporary Palestinian Artist & Sculptor</h2>
                    <p class="hero-description">
                        Internationally recognized Palestinian artist with MA Contemporary Arts from Dar Al-Kalima University. 
                        Through multidisciplinary practice spanning sculpture, painting, and community education, Jasem tells 
                        autobiographical stories of Palestinian identity, memory, and resistance across Europe and the Middle East.
                    </p>
                    <div class="hero-buttons">
                        <a href="#featured-works" class="btn btn-primary btn-lg me-3">View Artworks</a>
                        <a href="{% url 'pages:about' %}" class="btn btn-outline-primary btn-lg">About Artist</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                {% if featured_artworks.0 %}
                <div class="hero-artwork">
                    <img src="{{ featured_artworks.0.main_image.url }}" 
                         alt="{{ featured_artworks.0.title }}"
                         class="hero-image">
                    <div class="hero-artwork-caption">
                        <h4>{{ featured_artworks.0.title }}</h4>
                        <p>{{ featured_artworks.0.artwork_creation_date.year }}</p>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="section-title">Explore Collections</h2>
                <p class="section-subtitle">
                    Discover Jasem's artistic journey through large-scale urban sculptures, 
                    granite works, paintings, and therapeutic art installations
                </p>
            </div>
        </div>
        <div class="row">
            {% for category_info in categories %}
            <div class="col-md-6 mb-4">
                <div class="category-card">
                    {% if category_info.sample_artwork %}
                    <div class="category-image">
                        <img src="{{ category_info.sample_artwork.main_image.url }}" 
                             alt="{{ category_info.category.get_name_display }}"
                             class="img-fluid">
                        <div class="category-overlay">
                            <div class="category-info">
                                <h3>{{ category_info.category.get_name_display }}</h3>
                                <p>{{ category_info.count }} artwork{{ category_info.count|pluralize }}</p>
                                <a href="{% url 'gallery:category' category_info.category.name %}" 
                                   class="btn btn-light btn-sm">Explore Collection</a>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Featured Works Section -->
<section id="featured-works" class="featured-works py-5 bg-light">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="section-title">Featured Artworks</h2>
                <p class="section-subtitle">
                    A curated selection showcasing Jasem's acclaimed works from international exhibitions 
                    across Europe and the Middle East
                </p>
            </div>
        </div>
        
        {% if featured_artworks %}
        <div class="row">
            {% for artwork in featured_artworks %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="artwork-card">
                    <div class="artwork-image">
                        <img src="{{ artwork.main_image.url }}" 
                             alt="{{ artwork.title }}"
                             class="img-fluid">
                        <div class="artwork-overlay">
                            <div class="artwork-actions">
                                <a href="{% url 'gallery:artwork_detail' artwork.pk %}" 
                                   class="btn btn-primary btn-sm">View Details</a>
                                {% if artwork.original_available or artwork.second_option_available %}
                                <button class="btn btn-outline-light btn-sm ms-2 add-to-cart-btn"
                                        data-artwork-id="{{ artwork.id }}">
                                    Add to Cart
                                </button>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="artwork-info">
                        <h4 class="artwork-title">{{ artwork.title }}</h4>
                        <p class="artwork-year">{{ artwork.artwork_creation_date.year }}</p>
                        <div class="artwork-pricing">
                            {% if artwork.original_available %}
                            <div class="price-option">
                                <span class="price-label">Original:</span>
                                <span class="price">${{ artwork.original_price }}</span>
                            </div>
                            {% endif %}
                            {% if artwork.second_option_available %}
                            <div class="price-option">
                                <span class="price-label">{{ artwork.second_option_name }}:</span>
                                <span class="price">${{ artwork.second_option_price }}</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center">
            <p class="text-muted">No featured artworks available at the moment.</p>
        </div>
        {% endif %}
    </div>
</section>

<!-- Recent Works Section -->
<section class="recent-works py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="section-title">Recent Creations</h2>
                <p class="section-subtitle">
                    Latest additions to Jasem's artistic portfolio
                </p>
            </div>
        </div>
        
        {% if recent_artworks %}
        <div class="row">
            {% for artwork in recent_artworks %}
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="artwork-card recent-artwork">
                    <div class="artwork-image">
                        <img src="{{ artwork.main_image.url }}" 
                             alt="{{ artwork.title }}"
                             class="img-fluid">
                        <div class="artwork-overlay">
                            <a href="{% url 'gallery:artwork_detail' artwork.pk %}" 
                               class="btn btn-primary btn-sm">View</a>
                        </div>
                    </div>
                    <div class="artwork-info">
                        <h5 class="artwork-title">{{ artwork.title }}</h5>
                        <p class="artwork-category">{{ artwork.category.get_name_display }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section py-5 bg-primary text-white">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2>Interested in Commissioning a Sculpture or Artwork?</h2>
                <p class="lead">
                    Jasem accepts commissions for urban sculptures, granite works, paintings, and therapeutic art installations. 
                    With works in public collections across Palestine, Spain, and Romania, bring his expertise to your project.
                </p>
                <a href="{% url 'pages:contact' %}" class="btn btn-light btn-lg mt-3">
                    Start a Conversation
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function() {
    // Add to cart functionality
    $('.add-to-cart-btn').on('click', function() {
        const artworkId = $(this).data('artwork-id');
        // We'll implement this in the store app
        alert('Add to cart functionality will be implemented in the checkout phase');
    });
    
    // Smooth scrolling for hero buttons
    $('a[href^="#"]').on('click', function(event) {
        var target = $(this.getAttribute('href'));
        if( target.length ) {
            event.preventDefault();
            $('html, body').stop().animate({
                scrollTop: target.offset().top - 80
            }, 1000);
        }
    });
});
</script>
{% endblock %}